<ion-header hideWhen="core">
   <page-bsc-header ></page-bsc-header>
</ion-header>
<ion-content style='background-color: #f0f0f0'>

   <page-bsc-header showWhen="core"></page-bsc-header>

   <h2 hideWhen='core' class="mobile-sub-header">DASHBOARD</h2>
   <h2 showWhen='core' class="core-sub-header">DASHBOARD</h2>

   <ion-grid class="dashboard-grid">
      <ion-row class='form-row'>
         <ion-col class='form-col'>
            <div class="form-panel">
               <form #dashboardForm="ngForm" novalidate>
                  <ion-list no-lines>
                     <ion-item class='form-item'>
                        <ion-select [(ngModel)]="dashboardData.numberOfCustomers" name='totalCustomers' #numberOfCustomers="ngModel" required placeholder='Total Customers'>
                        <ion-option *ngFor="let number of arrayCustomers" value={{number}}>{{number}}</ion-option>
                        </ion-select>
                     </ion-item>
                     <p ion-text [hidden]="numberOfCustomers.valid || submittedDashboardDetails == false" color="danger" padding-left>
                          Select Number of Customers
                     </p>

                     <br>
                     <ion-item class='form-item'>
                        <ion-input [(ngModel)]="dashboardData.emergencyContactName" #emergencyContactName="ngModel" name="emergencycontactname" type="text" spellcheck="false" autocapitalize="off" required ngModel placeholder='Emergency Contact Name'>
                        </ion-input>
                     </ion-item>
                       <p ion-text [hidden]="emergencyContactName.valid || submittedDashboardDetails == false" color="danger" padding-left>
                          Enter emergency contact name
                        </p>
                     
                     <br>

                     <ion-item class='form-item'>
                        <ion-input [(ngModel)]="dashboardData.emergencyContactNumber" name="emergencycontactnumber" #emergencyContactNumber="ngModel" type="tel" required placeholder='Emergency Contact Number'>
                        </ion-input>
                     </ion-item>
                       <p ion-text [hidden]="emergencyContactNumber.valid || submittedDashboardDetails == false" color="danger" padding-left>
                           Enter emergency contact number
                        </p>


                     <div class="dashboard-image-div" *ngFor="let dashboardImage of dashboardImages">
                        <h5>{{dashboardImage.title}}</h5>

                        <img class="dashboard-image" *ngIf="dashboardImage.image" [src]="dashboardImage.image"/>

                        <button *ngIf="dashboardImage.image" (click)="removeImage(dashboardImage)" icon-only class="custom-file-select" >Remove</button>                     

                        <label *ngIf="!dashboardImage.image" class='custom-file-select'>Select Image
                           <ion-input hidden name="name" type="File" accept="image/*" (change)='imageSelectedFromUser(dashboardImage, $event)'>
                           </ion-input>
                        </label>

                        <label *ngIf="dashboardImage.image" class='custom-file-select'>Change Image
                           <ion-input hidden name="name" type="File" accept="image/*" (change)='imageSelectedFromUser(dashboardImage, $event)'>
                           </ion-input>
                        </label>
                        
                        <p ion-text [hidden]="dashboardImage.image || submittedDashboardDetails == false" color="danger" padding-left>
                        {{dashboardImage.errorMsg}}
                        </p>
                        
                     </div>                  
                     
                  </ion-list>

                  <br>

                  <ion-row responsive-sm>
                     <ion-col>
                        <button (click)="buttonSubmitDetailsPressed(dashboardForm)" ion-button type="submit" full>Submit Details</button>
                     </ion-col>
                  </ion-row>

               </form>
            </div>
         </ion-col>
      </ion-row>
   </ion-grid>

   <div class="logout-button">
      <button (click)="buttonLogoutPressed()" ion-button>LOGOUT</button>
   </div>

   <page-bsc-footer></page-bsc-footer>
</ion-content>