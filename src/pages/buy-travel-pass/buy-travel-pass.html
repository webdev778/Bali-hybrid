<ion-header hideWhen="core">
	<page-bsc-header ></page-bsc-header>
</ion-header>

<ion-content>

	<page-bsc-header header="Buy Travel Pass" showWhen="core"></page-bsc-header>

	<h2 hideWhen='core' class="mobile-sub-header">TRAVEL PASS</h2>
	<h2 showWhen='core' class="core-sub-header">TRAVEL PASS</h2>


	<ion-grid class = "selected-grid">
		<ion-row>
			<ion-col >
				<h3 [hidden]='!ticketsSaved' class="page-paddingtext">Travel Pass Price</h3>
			</ion-col>
		</ion-row>

		<ion-row>
			<ion-col>

				<h6 [hidden]='!ticketsSaved'  class="page-paddingtext">Must be Purchased Prior to Bali Arrival</h6>
			</ion-col>
		</ion-row>

		<ion-row>
			<ion-col>
				<h3 [hidden]='!ticketsSaved' class="page-paddingtext">Select Travel Pass Requirements</h3>
			</ion-col>
		</ion-row>

		<ion-row [hidden]='!ticketsSaved' class = "box1-content" align-items: center  *ngFor="let counter of bundleViewDescription; let number = index">
			<ion-col col-12 align-items: center >
				<ion-row class = "border-element1">
					<ion-col>
						<ion-row>
							<ion-col>
								<button class = "btn" float-left clear (click)="decrementValue(arrayTicketCount[number],number)">
									<ion-icon name="remove" ></ion-icon>
								</button>
							</ion-col>
							<ion-col class = "vertical">
								<p>{{arrayTicketCount[number]}}</p>
							</ion-col>
							<ion-col>
								<button class = "btn" clear (click)="incrementValue(arrayTicketCount[number],number)" float-right>
									<ion-icon name="md-add" ></ion-icon>
								</button>
							</ion-col>
						</ion-row>
					</ion-col>
					<ion-col col-4 class = "static-ctext">
						<p class = "unit-component">
							<b>1 {{bundleViewDescription[number].title}}: $</b>
						</p>
					</ion-col>
					<ion-col col-4 class = "vertical">
						<p>{{bundleViewDescription[number].price}}</p>
					</ion-col>
				</ion-row>
			</ion-col>

			<ion-col col-12>
				<p class="page-text">{{bundleViewDescription[number].description}}</p>
				<p class="page-text">{{bundleViewDescription[number].valid_days}}</p>
			</ion-col>
		</ion-row>

		<ion-row [hidden]='ticketsSaved'>
			<ion-col>
				<h5 class = "center-msg">You have selected the following Travel Pass</h5>
			</ion-col>
		</ion-row>

		<div class = "save-btn">
		<button [hidden]='!ticketsSaved' ion-button color='primary' (click)='savePressed()'>Save</button>
		</div>

		<ion-row  [hidden]='ticketsSaved' class = "box2-content">
			<ion-col>
				<ion-row class="grid-row" *ngFor="let counter of bundleViewDescription; let number = index">
					<ion-col>
						<p>Quantity <span class="green-text bold-text">{{arrayTicketCount[number]}}</span></p>
					</ion-col>

					<ion-col>
						<h5>{{bundleViewDescription[number].title}}</h5>
					</ion-col>

					<ion-col>
						<p>Price <span class="green-text bold-text">${{totalCost[number]}}</span></p>
					</ion-col>
				</ion-row>

				<ion-row>
					<ion-col>
						<p>
							<b>TOTAL PRICE : <span class="green-text bold-text">${{finalCost}}</span></b>
						</p>
					</ion-col>
				</ion-row>
			</ion-col>
		</ion-row>

</ion-grid>
	
	<br>

	<div class = "save-btn" >
		<button [hidden]='ticketsSaved || paymentView' ion-button color='primary' (click)='continuePressed()'>Continue</button>
	</div>


	<ion-grid class = "selected-grid2" [hidden]='!paymentView'>
	   	<ion-row class = "grid-row">
				<ion-col > <ion-input [(ngModel)]="cardDetails.cardNumber" #cardNumber="ngModel" name="cardNumber" type="tel" spellcheck="false"  pInputText (keypress)="validateCard($event)" maxlength="19"  autocapitalize="off" required ngModel placeholder='* CARD NUMBER'>
	                        </ion-input></ion-col>

	            <ion-col col-2>{{cardType}}</ion-col>

			</ion-row>

				<ion-row class = "grid-row">
					<ion-col> <ion-input [(ngModel)]="cardDetails.cvv" #cvv="ngModel"  pInputText (keypress)="onlyNumberKey($event)" maxlength="4" name="cvv" type="tel" spellcheck="false" autocapitalize="off" required ngModel placeholder='* CVV'>
		                        </ion-input></ion-col>
						<ion-col>
						<ion-input [(ngModel)]="cardDetails.mm" #mm="ngModel"  name="mm" type="tel" spellcheck="false" autocapitalize="off" required ngModel placeholder='* MM'  pInputText (keypress)="onlyNumberKey($event)" maxlength="2" >
			            </ion-input>
			        </ion-col>
			        <ion-col>
		                <ion-input [(ngModel)]="cardDetails.yy" #yy="ngModel" name="yy" type="tel" spellcheck="false" autocapitalize="off" required ngModel placeholder='* YY'  pInputText (keypress)="onlyNumberKey($event)" maxlength="2" >
		                </ion-input>
		            	</ion-col>
				</ion-row>
			</ion-grid>

	<div class = "save-btn" >
		<button [hidden]='!paymentView' ion-button color='primary' (click)='makePayment()'>Proceed to pay</button>
	</div>
	
	<page-bsc-footer></page-bsc-footer>
</ion-content>



